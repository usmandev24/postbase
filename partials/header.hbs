<nav class="fixed top-0 left-0 right-0 z-100 bg-base-100/80 backdrop-blur-lg border-b border-base-300/50">
  <div class=" mx-auto navbar px-4 lg:px-6">
    
    <div class="navbar-start gap-2">
      <a href="/" class="flex items-center gap-2 group transition-transform active:scale-95 shrink">
        <img class="h-8 w-auto" src="/assets/img/text-logo.png" alt="PostBase" />
        <p class="text-2xl lg:text-3xl font-black tracking-tighter {{#unless homepage}} hidden {{/unless}} lg:inline-block">
          <span class="text-green-500">Post</span><span class="text-purple-600">Base</span>
        </p>
      </a>

      <div class="hidden sm:flex items-center ml-2 gap-1">
        <a href="/explore/All%20Posts" class="btn btn-ghost btn-sm underline p-2 rounded-full font-bold opacity-90 hover:opacity-100">
          Explore
        </a>
        {{#if user}}
        <a href="/your-feed" class="btn btn-ghost btn-sm underline p-2 rounded-full font-bold opacity-90 hover:opacity-100">
          My Feed
        </a>
        {{/if}}
      </div>
    </div>

    {{#unless homepage}}
    <div class="navbar-center sm:max-w-[35%] md:max-w-[40%]  max-w-[40%]">
      <h1 class="truncate text-sm font-black uppercase tracking-[0.15em] opacity-90 text-center select-none">
        {{#if title}}{{title}}{{else}}Reading Post{{/if}}
      </h1>
    </div>
    {{/unless}}

    <div class="navbar-end gap-3">
      
      {{#if user}}
        <div class="hidden  lg:flex items-center gap-3">
          <a href="/posts/add" class="btn btn-success btn-sm rounded-full gap-2 px-5 shadow-sm shadow-success/20">
            <span class="h-4 w-4" data-feather="plus"></span>
            Create Post
          </a>
          
          <div class="dropdown dropdown-end">
            <label tabindex="0" class="btn btn-ghost btn-circle avatar border border-base-300">
              <div class="w-9 rounded-full">
                <img src="/assets/users/photo/{{user.username}}" alt="{{user.username}}" />
              </div>
            </label>
            <ul tabindex="0" class="mt-3 z-1 p-2 shadow-2xl menu menu-sm dropdown-content bg-base-100 rounded-2xl w-52 border border-base-300">
              <li class="menu-title opacity-50 text-[10px] uppercase tracking-widest px-4 py-2">Account</li>
              <li><a href="/users/profile/{{user.username}}" class="py-3 rounded-xl font-bold">My Profile</a></li>
              <li><a href="/your-feed" class="py-3 rounded-xl">Personal Feed</a></li>
              <div class="divider my-1 opacity-20"></div>
              <li><a href="/users/logout" class="py-3 rounded-xl text-error font-bold">Logout</a></li>
            </ul>
          </div>
        </div>

      {{else}}
        <div class="hidden lg:flex items-center gap-2">
          <a href="/users/login" class="btn btn-ghost btn-sm rounded-full px-5 font-bold">Login</a>
          <a href="/users/oauth/google" class="btn btn-primary btn-sm rounded-full px-5 shadow-lg shadow-primary/20">Get Started</a>
        </div>
      {{/if}}

      <div class="dropdown dropdown-end lg:hidden">
        <button tabindex="0" class="btn btn-ghost btn-circle">
          <span data-feather="menu" class="h-6 w-6"></span>
        </button>
        <ul tabindex="0" class="menu dropdown-content mt-4 z-10 p-4 shadow-2xl  bg-base-100 rounded-3xl w-54 border border-base-300  gap-2">
          {{#if user}}
            <div class="flex items-center gap-3 px-2 mb-3">
              <img class="rounded-full w-10 h-10 border border-base-300" src="/assets/users/photo/{{user.username}}">
              <div class="flex flex-col">
                <span class="font-bold leading-none text-sm">{{user.username}}</span>
                <span class="text-[10px] opacity-50 uppercase mt-1 tracking-wider">Active Contributor</span>
              </div>
            </div>
            <li><a href="/posts/add" class="btn btn-success rounded-2xl text-success-content h-12 mb-2 flex items-center justify-center">Create Post</a></li>
            <li><a href="/explore/All%20Posts" class="py-3 font-bold">Explore Content</a></li>
            <li><a href="/your-feed" class="py-3">My Personal Feed</a></li>
            <li><a href="/users/profile/{{user.username}}" class="py-3">View Profile</a></li>
            <div class="divider my-1 opacity-20"></div>
            <li><a href="/users/logout" class="text-error font-bold">Logout</a></li>
          {{else}}
            <li><a href="/users/login" class="btn btn-outline border-base-300 rounded-2xl h-12 mb-2">Login</a></li>
            <li><a href="/users/oauth/google" class="btn btn-primary rounded-2xl h-12">Sign up</a></li>
            <li><a href="/explore/All%20Posts" class="mt-4 text-center text-xs">Browse anonymously</a></li>
          {{/if}}
        </ul>
      </div>

    </div>
  </div>
</nav>

